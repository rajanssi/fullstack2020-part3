{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","delete","put","Persons","person","handleClick","name","number","onClick","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","filter","handleFilterChange","Notification","message","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","personsToShow","length","toLowerCase","includes","useEffect","personService","then","response","data","window","confirm","setTimeout","event","target","preventDefault","newPerson","map","find","toLocaleLowerCase","changedPerson","p","catch","error","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3b444f0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Persons = ({ person, handleClick }) => {\n  return (\n    <div>\n      {person.name} {person.number} <button onClick={() => handleClick(person.name, person.id)}>delete</button>\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.addPerson}>\n        <div>\n          name:\n          <input\n            value={props.newName}\n            onChange={props.handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={props.newNumber}\n            onChange={props.handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Filter = ({ filter, handleFilterChange }) => {\n\n  return (\n    <div>\n      filter shown with\n      <input\n        value={filter}\n        onChange={handleFilterChange}\n      />\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const messageStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message[1]) {\n    messageStyle.color = 'red'\n  }\n  return (\n    <div style={messageStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  const personsToShow = filter.length === 0\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n    const names = persons.map(person => person.name.toLowerCase())\n\n    if (names.includes(newName.toLowerCase())) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const person = persons.find(person => person.name.toLowerCase() === newName.toLocaleLowerCase())\n        const changedPerson = { ...person, number: newNumber }\n        personService\n          .update(person.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(p => p.id !== person.id ? p : response.data))\n            setMessage([`Updated ${newName}`])\n\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.id !== person.id))\n            setMessage([`Information of ${newName} has already been removed from server`, true])\n          })\n      }\n\n    } else {\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setMessage([`Added ${newName}`])\n\n        })\n        .catch(error => {\n          setMessage([error.response.data.error])\n        })\n    }\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleClick = (name, id) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id));\n          setMessage([`Removed ${name}`])\n        })\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter\n        filter={filter} handleFilterChange={handleFilterChange}\n      />\n      <h3>add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber}\n        handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <div>\n        {personsToShow.map(person =>\n          <Persons key={person.id} person={person} handleClick={handleClick} />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n"],"sourceRoot":""}